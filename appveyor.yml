# Branches
branches:
  only:
  - feature/for_ci_test
# Build on Ubuntu 18.04. Always define the image explicitly because defaults change over time.
image: ubuntu

environment:
  # Increase the minimum and maximum Java heap size by defining the environment variable _JAVA_OPTIONS.
  _JAVA_OPTIONS: "-Xms256m -Xmx1024m"
  # Reduce the output generated by Apache Maven.
  MAVEN_OPTS: "-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"

install:
  # Use OpenJDK 11.
  - sudo java_select adoptopenjdk-11
  # Define variable UBUNTU_CODENAME with Ubuntu code name (xenial, bionic etc.).
  - export UBUNTU_CODENAME=$(lsb_release -c -s)

stack: jdk 11

before_build:
- java --version

build_script:
- mvn clean package -DskipTest

test_script:
- mvn clean install verify

artifacts:
  # Collect all JARs that have been built and upload them to the CI server. Can be downloaded via
  # the UI. If you want to keep them longer than 6 months, deploy to Artifactory (not shown).
  - path: "target/*.?ar"

# Use integers as build versions (1, 2, 3, â€¦) instead of 1.0.X.
version: "0.0.1.{build}"